계피 이미지 추가 또는 정답 아닌 이미지와 교체 + 이미지 새로 생성
베이비파우더 이미지 -> 화장품 이미지로 교체



중구청 보낼 메뉴얼 작성

(아마도 재활 시나리오 변경도 포함)




## 이름 변경(예: “베이비파우더” → “화장품”) 체크리스트

1. **문항 데이터 교체**
    

- 파일: `dsTestID.py`
    
- 위치: `id_test_data`, `id_test_data2`의 `choice*`/`answer` 값들
    
- 내용: 문자열 `"베이비파우더"`를 `"화장품"`으로 바꾸면 됨. 해당 항목은 scent_no=6으로 쓰이고 있으니 **scent_no는 그대로** 유지하세요(하드웨어 분사 채널과 묶임).
    

2. **버튼 이미지 매핑 추가/교체**
    

- 파일: `dsImage.py`
    
- 위치: `dsBtnImg` 딕셔너리(텍스트→버튼 배경 이미지 매핑)
    
- 내용: 새 키를 추가합니다.
    
    - **이미지 파일을 새로 만들었다면** (예: `btn_cosmetics.png`):
        
        ```python
        '화장품': 'QPushButton{border-image: url(./ui/images/test/i/img/btn_cosmetics.png)}',
        ```
        
    - **기존 ‘베이비파우더’ 이미지를 그대로 쓰고 싶다면**(이름만 바꾸기):
        
        ```python
        '화장품': 'QPushButton{border-image: url(./ui/images/test/i/img/btn_babypowder.png)}',
        ```
        
    - 과거 데이터/훈련 화면에서 **구명(舊名)도 남겨 호환**하고 싶으면, 둘 다 유지:
        
        ```python
        '베이비파우더': 'QPushButton{border-image: url(./ui/images/test/i/img/btn_babypowder.png)}',
        '화장품':      'QPushButton{border-image: url(./ui/images/test/i/img/btn_babypowder.png)}',
        ```
        
    
    이렇게 해야 UI가 텍스트 라벨을 키로 삼아 이미지를 찾을 때 바로 적용됩니다.
    

3. **코드가 이 매핑을 어디서 쓰는가(확인 차원)**
    

- `ScentSmart.py`에서 `dsImage`의 `dsBtnImg`를 import해서 버튼 스타일에 적용합니다. 텍스트(보기 항목)가 곧 키이므로, 이름만 바꾸면 같은 경로로 이미지가 매칭됩니다.
    

> 위 1~3만 반영하면 “이름 바꿈 = 이미지/저장/표시”가 전부 따라옵니다. 엑셀 저장이나 결과 테이블은 문자열 그대로 저장하니 추가 수정 불필요.

---

## “항목을 새로 추가”하려면?

- 방식은 **같습니다**. 다만 아래도 함께 고려하세요.
    

### A. 데이터 추가

- `dsTestID.py`의 `id_test_data`(또는 `id_test_data2`)에 새 항목을 **동일한 필드 구조**로 추가(`choice1~4`, `answer`, `scent_no`, `outlet_no` …).
    
- 새 항목이 실제 분사 채널을 사용한다면 **적절한 `scent_no`**(하드웨어 채널 번호)로 배정.
    

### B. 이미지 매핑

- `dsImage.py`의 `dsBtnImg`에 **동일한 텍스트 키**로 버튼 이미지를 매핑.
    

### C. 화면/로직에서의 “개수 제한”

- 현재 식별검사는 12문항을 전제로 한 곳들이 있습니다(예: 결과 저장에서 8문항 캡이라면 8, 보고서/차트에서 범위 계산 등). 문항 수를 늘리면, **반복 구간 슬라이스**나 **표 생성/차트 범위**(예: `rows[:8]`, COUNTIF 범위 산정 등)를 함께 조정해야 합니다. 해당 부분은 `ScentSmart.py`의 보고서 저장 루틴에서 보실 수 있어요(문항 슬라이스/COUNTIF 작성).
    

---

## 실무 팁(안전하게 교체/추가하는 법)

- **점진 교체(권장)**:
    
    1. `dsBtnImg`에 우선 새 키(‘화장품’)만 추가(구 키 ‘베이비파우더’도 그대로).
        
    2. `dsTestID.py`에서 일부 케이스만 ‘화장품’으로 바꿔 정상 표시/저장 확인.
        
    3. 문제 없으면 나머지 전부 교체.
        
- **과거 레코드 호환**: 과거 DB에 ‘베이비파우더’ 텍스트가 남아 있으면, `dsBtnImg`에 구 키를 **그대로 유지**하거나, 비교 전에 이름 정규화 한 줄 넣기:
    
    ```python
    name = name.replace('베이비파우더', '화장품')
    ```
    
    (UI 세팅/저장 직전에 한 번만 적용)
    

---

## 한 줄 요약

- 이름 변경: `dsTestID.py`(데이터) + `dsImage.py`(이미지 매핑)만 맞추면 끝. 필요시 과거 호환을 위해 구 키도 함께 두기.
    
- 항목 추가: 위와 동일하되, **문항 수가 늘면 반복/슬라이스/차트 범위**를 `ScentSmart.py`에서 함께 늘려 주세요.
    

필요하면 내가 “베이비파우더 → 화장품” 전체 변경 패치(diff) 형태로 정리해 줄게.



이전 글씨 색깔

#205f76
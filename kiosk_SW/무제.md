GitHub Copilot

요약
- "첫 화면"은 렌더러 엔트리(src/renderer/src/main.tsx)가 마운트하는 App 컴포넌트에서 라우트 '/'에 매핑된 페이지입니다(보통 src/renderer/src/pages/Home.tsx).  
- 확인 방법과 점검 포인트, 그리고 지금 올려주신 GlassBloomButton 컴포넌트(gesture-radial)의 상세 분석 및 즉시 적용 가능한 개선 패치를 아래에 제공합니다.

1) "첫 화면" 확인하는 방법 (빠르게)
- 열어볼 파일:
  - main.tsx — React 앱 마운트 지점
  - App.tsx — 라우팅/루트 레이아웃
  - Home.tsx — '/' 경로의 컴포넌트(첫 화면)
- VSCode로 열기:
````powershell
code src\renderer\src\main.tsx
code src\renderer\src\App.tsx
code src\renderer\src\pages\Home.tsx
````
- App.tsx에서 React Router 사용 여부(예: <Routes><Route path="/" element={<Home/>} />)를 확인하면 첫 화면이 무엇인지 확실히 알 수 있음.

2) Home(첫화면) 코드 리뷰 체크리스트
- 마운트 시점의 사이드 이펙트:
  - useEffect에서 트래킹(session start), 초기 데이터 로드, ipc 호출 등 있는지 확인 → 불필요한 재요청/무한 루프 여부 점검
- 렌더 비용:
  - 큰 이미지, Canvas/WebGL(ogl) 초기화, Heavy animation이 mount 시 실행되면 첫화면 렌더 지연 발생
- 리소스 로드:
  - static asset 경로(src/renderer/public 또는 resources) 유무 확인
- 접근성:
  - 주요 버튼에 keyboard/aria 처리(타입, role, aria-label) 적용 여부
- 안전성:
  - window.electron / window.api 호출 시 존재 여부 검사(전역이 없으면 오류)
- 스타일/뷰포트:
  - viewport scaling(config/viewport.ts)에 맞게 transform/scale 적용 확인
- 트래킹/세션:
  - Mixpanel 초기화 시 토큰 유무 확인(.env) — dev/prod 분기 처리

3) GlassBloomButton 컴포넌트(제공 코드) 분석 — 동작 요약
- 상태:
  - isClicked (로컬, 클릭 시 ripple 애니메이션 트리거)
- 이벤트:
  - handleClick: setIsClicked(true); onClick?.(); setTimeout(() => setIsClicked(false), 800)
- 시각:
  - 인라인 스타일로 크기, 색, boxShadow, animation 지정
  - 클릭 시 3중 ripple layer 렌더
  - isActive prop이면 breathing 애니메이션 적용
- 장점:
  - 독립적, CSS 애니메이션 포함으로 외부 의존성 없음
- 문제/개선 포인트 (우선순위)
  1. 타이머 정리 없음: 언마운트 전에 timeout이 남아있으면 경고/메모리 이슈 발생 가능 → cleanup 필요
  2. button에 type 속성 없음: form 내 의도치 않은 submit 가능성 → type="button" 권장
  3. 접근성 부족: aria-pressed/aria-busy/aria-label 등 없음, 키보드 포커스 시 행동 정의 없음
  4. 인라인 스타일 과도: 매 렌더마다 새로운 style 객체 생성 → 성능 저하 가능 (특히 자주 렌더링되는 경우)
  5. 마우스 이벤트에서 DOM style 변경: 직접 스타일 조작 대신 state/클래스로 제어 권장
- 권장 개선: timeout cleanup, type="button", aria 속성 추가, ref/forward 지원(optional)

4) 바로 적용 가능한 개선 패치 (타이머 정리 + type + aria + 간단 리팩터)
````typescript
import React, { useEffect, useRef, useState } from 'react'

interface GlassBloomButtonProps {
  onClick?: () => void
  isActive?: boolean
  ariaLabel?: string
}

export function GlassBloomButton({
  onClick,
  isActive = false,
  ariaLabel = 'Try it'
}: GlassBloomButtonProps): React.JSX.Element {
  const [isClicked, setIsClicked] = useState(false)
  const timeoutRef = useRef<number | null>(null)

  const handleClick = (): void => {
    setIsClicked(true)
    onClick?.()

    // Reset animation state after ripple completes
    if (timeoutRef.current) {
      window.clearTimeout(timeoutRef.current)
    }
    timeoutRef.current = window.setTimeout(() => {
      setIsClicked(false)
      timeoutRef.current = null
    }, 800)
  }

  useEffect(() => {
    return () => {
      // cleanup pending timeout on unmount
      if (timeoutRef.current) {
        window.clearTimeout(timeoutRef.current)
        timeoutRef.current = null
      }
    }
  }, [])

  return (
    <div style={{ position: 'relative', width: 120, height: 120, display: 'flex', alignItems: 'center', justifyContent: 'center' }}>
      {isClicked && (
        <>
          <div style={{ position: 'absolute', width: 120, height: 120, borderRadius: '50%', backgroundColor: 'rgba(247,217,196,0.8)', animation: 'ripple-expand 0.8s ease-out forwards', pointerEvents: 'none' }} />
          <div style={{ position: 'absolute', width: 120, height: 120, borderRadius: '50%', backgroundColor: 'rgba(255,204,170,0.6)', animation: 'ripple-expand 0.8s ease-out 0.1s forwards', pointerEvents: 'none' }} />
          <div style={{ position: 'absolute', width: 120, height: 120, borderRadius: '50%', backgroundColor: 'rgba(255,229,204,0.4)', animation: 'ripple-expand 0.8s ease-out 0.2s forwards', pointerEvents: 'none' }} />
        </>
      )}

      <button
        type="button"
        onClick={handleClick}
        aria-pressed={isActive || isClicked}
        aria-label={ariaLabel}
        style={{
          position: 'relative',
          width: 105,
          height: 105,
          borderRadius: '50%',
          border: '1px solid rgba(255,255,255,0.4)',
          backgroundColor: 'rgba(255,245,238,0.7)',
          backdropFilter: 'blur(10px)',
          cursor: 'pointer',
          display: 'flex',
          flexDirection: 'column',
          alignItems: 'center',
          justifyContent: 'center',
          gap: '6px',
          transition: 'all 0.3s cubic-bezier(0.34,1.56,0.64,1)',
          boxShadow: `
            inset 0 1px 2px rgba(255,255,255,0.8),
            0 8px 32px rgba(0,0,0,0.1),
            0 0 40px ${isActive || isClicked ? 'rgba(247,217,196,0.8)' : 'rgba(247,217,196,0.3)'}
          `,
          animation: isActive ? 'breathing 3s ease-in-out infinite' : 'none',
          outline: 'none',
          transform: isClicked ? 'scale(0.95)' : 'scale(1)'
        }}
      >
        {/* overlay + icon + labels (same as existing) */}
        <div style={{ position: 'absolute', inset: 0, borderRadius: '50%', background: 'radial-gradient(circle at 35% 35%, rgba(255,255,255,0.6) 0%, transparent 70%)', pointerEvents: 'none' }} />
        <svg width="24" height="24" viewBox="0 0 32 32" fill="none" stroke="currentColor" strokeWidth="1.5" strokeLinecap="round" strokeLinejoin="round" style={{ color: '#2B2B2B', position: 'relative', zIndex: 1, transition: 'opacity 0.6s', opacity: isClicked ? 0 : 0.85 }}>
          <circle cx="16" cy="16" r="4" fill="currentColor" opacity="0.3" />
          <circle cx="16" cy="16" r="8" fill="none" stroke="currentColor" opacity="0.5" />
          <circle cx="16" cy="16" r="12" fill="none" stroke="currentColor" opacity="0.3" />
        </svg>
        <div style={{ position: 'relative', zIndex: 1, textAlign: 'center', pointerEvents: 'none' }}>
          <div style={{ fontSize: 12, fontWeight: 600, color: '#2B2B2B', lineHeight: 1.2, letterSpacing: '0.025em', transition: 'opacity 0.3s ease-out', opacity: isClicked ? 0 : 0.8 }}>Try It</div>
          <div style={{ fontSize: 11, fontWeight: 500, color: '#2B2B2B', lineHeight: 1.2, letterSpacing: '0.025em', transition: 'opacity 0.3s ease-out', opacity: isClicked ? 0 : 0.6 }}>Now</div>
        </div>
      </button>

      <style>{`
        @keyframes breathing { 0%,100%{ transform: scale(1) } 50%{ transform: scale(1.05) } }
        @keyframes ripple-expand { 0%{ transform: scale(0); opacity:1 } 100%{ transform: scale(2.5); opacity:0 } }
      `}</style>
    </div>
  )
}
````

5) 다음 권장 작업 (퇴근 전 1개 선택)
- A: App.tsx → Home.tsx 경로 확인 후 Home.tsx 코드 붙여주면 첫화면 구성요소(사용된 컴포넌트, 초기이펙트, 리소스)를 상세 분석.  
- B: GlassBloomButton 위 패치 적용 → npm run dev로 UI 확인(타이머 경고/동작 정상 확인).  

원하시면 지금 Home.tsx를 붙여주시면 그 코드 기준으로 "첫 화면의 구조·렌더 흐름·개선 포인트"를 라인별로 분석해 드립니다. 어느 쪽으로 진행할까요?